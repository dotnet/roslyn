<Project Sdk="Microsoft.NET.Sdk">
  <!-- This is a helper project to reference all the unit test projects that are included in Roslyn.sln when building the net6.0 target framework -->

  <PropertyGroup>
    <TargetFrameworks>net6.0-windows;net472</TargetFrameworks>
    <SignAssembly>false</SignAssembly>
    <IsShipping>false</IsShipping>
  </PropertyGroup>

  <!-- Infrastucture Projects --> 
  <ItemGroup Condition="'$(TargetFramework)' == 'net6.0-windows'">
    <ProjectReference Include="..\..\Tools\Source\RunTests\RunTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Tools\PrepareTests\PrepareTests.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>
  
  <!-- Compiler Tests -->
  <ItemGroup Condition="'$(TargetFramework)' == 'net6.0-windows' AND ($(CompilersChange)' == 'true' OR '$(BuildReason)' != 'PullRequest')">
    <ProjectReference Include="..\..\Compilers\Core\CodeAnalysisTest\Microsoft.CodeAnalysis.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\Core\MSBuildTaskTests\Microsoft.Build.Tasks.CodeAnalysis.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\Core\RebuildTest\Microsoft.CodeAnalysis.Rebuild.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\CommandLine\Microsoft.CodeAnalysis.CSharp.CommandLine.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\Emit\Microsoft.CodeAnalysis.CSharp.Emit.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\Emit2\Microsoft.CodeAnalysis.CSharp.Emit2.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\EndToEnd\Microsoft.CodeAnalysis.CSharp.EndToEnd.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\IOperation\Microsoft.CodeAnalysis.CSharp.IOperation.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\Semantic\Microsoft.CodeAnalysis.CSharp.Semantic.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\Symbol\Microsoft.CodeAnalysis.CSharp.Symbol.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\CSharp\Test\Syntax\Microsoft.CodeAnalysis.CSharp.Syntax.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Compilers\Server\VBCSCompilerTests\VBCSCompiler.UnitTests.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>
  
  <!-- Workspace Tests -->
  <ItemGroup Condition="'$(TargetFramework)' == 'net6.0-windows'  AND ($(CompilersChange)' == 'true' OR '$(WorkspaceChange)' == 'true' OR '$(BuildReason)' != 'PullRequest')">
    <ProjectReference Include="..\..\Workspaces\CoreTest\Microsoft.CodeAnalysis.Workspaces.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Workspaces\CSharpTest\Microsoft.CodeAnalysis.CSharp.Workspaces.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Workspaces\MSBuildTest\Microsoft.CodeAnalysis.Workspaces.MSBuild.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Workspaces\Remote\ServiceHubTest\Microsoft.CodeAnalysis.Remote.ServiceHub.UnitTests.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>
  
  <!-- Interactive Tests -->
  <ItemGroup Condition="'($(CompilersChange)' == 'true' OR '$(ScriptingChange)' == 'true' OR '$(BuildReason)' != 'PullRequest')">
    <ProjectReference Include="..\..\Interactive\HostProcess\InteractiveHost64.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>
  
  <ItemGroup Condition="'$(TargetFramework)' == 'net6.0-windows' AND ($(CompilersChange)' == 'true' OR '$(ScriptingChange)' == 'true' OR '$(BuildReason)' != 'PullRequest')">
    <ProjectReference Include="..\..\Interactive\HostTest\InteractiveHost.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Scripting\CoreTest\Microsoft.CodeAnalysis.Scripting.UnitTests.csproj" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\..\Scripting\CSharpTest\Microsoft.CodeAnalysis.CSharp.Scripting.UnitTests.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>
  
  <ItemGroup Condition="'$(TargetFramework)' == 'net472' AND ($(CompilersChange)' == 'true' OR '$(ScriptingChange)' == 'true' OR '$(BuildReason)' != 'PullRequest')">
    <ProjectReference Include="..\..\Interactive\HostProcess\InteractiveHost32.csproj" ReferenceOutputAssembly="false" />
  </ItemGroup>

</Project>
